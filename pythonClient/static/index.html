<!DOCTYPE HTML>
<html>

<head>
    <title>Subless Python sample</title>
    <!-- Load subless.js onto pages with content owned by a particular creator to automatically track a user -->
    <script type="module">
        import Subless from 'https://dev.subless.com/dist/subless.js';
        //Make the subless object available to the rest of your javascript
        window.subless = Subless;
        //Perform any actions you want to fire after subless is loaded into the page
        loginVisible();
    </script>

</head>

<body>
    Welcome to the subless python sample client.
    <br />
    <button id="btnLogin" onclick="subless.sublessLogin()">Login to subless</button>
    <button id="btnLogout" onclick="subless.sublessLogout()">Logout of subless</button>
    <a href='./profile/TestUser'>View your profile</a>
    <script type="text/javascript" async>
        async function loginVisible() {
            let loggedIn = await subless.subless_LoggedIn();
            document.getElementById('btnLogin').hidden = loggedIn;
            document.getElementById('btnLogout').hidden = !loggedIn;
        }
    </script>
</body>

</html>